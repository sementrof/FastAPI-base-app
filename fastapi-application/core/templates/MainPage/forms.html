{% extends 'base.html' %}

{% block content %}


<form action="" method="post">
    <div class="form-group">
        <label for="exampleInputPassword1">Имя</label>
        <input type="text" class="form-control" name="name" placeholder="Имя">
      </div>
    <div class="form-group">
      <label for="exampleInputPassword1">Фамилия</label>
      <input type="text" class="form-control" name="surname" placeholder="Фамилия">
    </div>
    <div class="form-group">
        <label for="exampleInputPasswor">Телефон</label>
        <input type="tel" class="form-control" name="phone", value="+7 (___) ___-__-__", placeholder="Телефон">
    </div>
    <div class="form-group"></div>
        <label for="exampleInputEmail1">Email</label>
        <input type="email" class="form-control" name="Email" aria-describedby="emailHelp" placeholder="Email">
        <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
      </div>
    <div class="form-group"></div>
        <label for="exampleInputPasswor">дата заезда</label>
        <input type="date" class="form-control" name="arrival_date" placeholder="дата заезда">
    </div>
    <div class="form-group"></div>
        <label for="exampleInputPasswor">дата выезда</label>
        <input type="date" class="form-control" name="departure_date" placeholder="дата выезда">
    </div>
    <div class="form-group"></div>
        <label for="exampleInputPasswor">количество взрослых</label>
        <input type="number" class="form-control" name="number_of_adults" placeholder="количество взрослых">
    </div>
    <div class="form-group"></div>
        <label for="exampleInputPasswor">количество детей до 12 лет</label>
        <input type="number" class="form-control" name="childrens" placeholder="количество детей до 12 лет">
    </div>
    <div class="form-group"></div>
        <label for="exampleInputPasswor">категория номера</label>
        <input type="text" class="form-control" name="room_category" placeholder="категория номера">
    </div>
    <div class="form-group"></div>
        <label for="exampleInputPasswor">комментарий</label>
        <input type="text" class="form-control" name="comment" placeholder="Password">
    </div>  
    <div class="form-group form-check">
      <input type="checkbox" class="form-check-input" id="exampleCheck1">
      <label class="form-check-label" for="exampleCheck1">Нажимая кнопку «Отправить», я даю свое согласие на обработку моих персональных данных, в соответствии с Федеральным законом от 27.07.2006 года №152-ФЗ «О персональных данных», на условиях и для целей, определенных в Согласии на обработку персональных данных *</label>
    </div>
    <button type="submit" class="btn btn-primary">Submit</button>
  </form>

  <script>
    const phoneInput = document.getElementById('phone');

    phoneInput.addEventListener('input', function (e) {
        let value = phoneInput.value.replace(/\D/g, ''); // Удаляем все нецифровые символы
        if (!value.startsWith('7')) {
            value = '7' + value; // Добавляем '7', если не введен
        }

        // Форматируем номер
        if (value.length > 1) {
            value = '+7 (' + value.substring(1, 4);
        }
        if (value.length >= 5) {
            value += ') ' + value.substring(4, 7);
        }
        if (value.length >= 8) {
            value += '-' + value.substring(7, 9);
        }
        if (value.length >= 10) {
            value += '-' + value.substring(9, 11);
        }

        phoneInput.value = value.substring(0, 18); // Ограничение длины
    });
</script>
  {% endblock %}